(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,a,t){},38:function(e,a,t){e.exports=t(77)},48:function(e,a,t){},68:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){},72:function(e,a,t){},73:function(e,a,t){},74:function(e,a,t){},77:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(15),c=t.n(o),l=t(2),m=(t(48),t(3)),i=t(4),s=t(7),u=t.n(s);var p=function(){var e=Object(i.b)(),a=Object(i.c)((function(e){return e.auth})),t=Object(n.useState)("profile-popup popup-hidden"),o=Object(m.a)(t,2),c=o[0],s=o[1];return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"nav"},r.a.createElement("img",{src:"/logo.png",alt:"hexagon",className:"header-img"}),r.a.createElement(l.a,{to:"/"},r.a.createElement("h1",{className:"title"},a.loggedIn?a.companyname:"Sign-off Online"))),a.loggedIn&&r.a.createElement("div",{className:"nav"},r.a.createElement("nav",{className:"nav-bar"},r.a.createElement(l.a,{to:"/"},r.a.createElement("div",{className:"nav-unactive"},"Home")),r.a.createElement(l.a,{to:"/signoff"},r.a.createElement("div",{className:"nav-unactive"},"Sign-off")),a.founder&&r.a.createElement(l.a,{to:"/administration"},r.a.createElement("div",{className:"nav-unactive"},"Administration")),r.a.createElement(l.a,{to:"/dev"},r.a.createElement("div",{className:"nav-unactive"},"Dev Log"))),r.a.createElement("div",{className:"nav-profile",onClick:function(){s("profile-popup popup-hidden"===c?"profile-popup popup-show":"profile-popup popup-hidden")}},r.a.createElement("img",{className:"nav-avatar",src:a.avatar,alt:"avatar"}),r.a.createElement("h4",{className:"nav-username"},a.name),r.a.createElement("div",{className:c},r.a.createElement(l.a,{to:"/profile"},r.a.createElement("button",{className:"popup-button"},"View Profile")),r.a.createElement("button",{className:"popup-button",onClick:function(){u.a.get("/api/logout"),e({type:"LOGOUT"}),Object(l.d)("/")}},"Log Out")))))};t(68);var f=function(e){var a=e.children;return r.a.createElement("div",{className:"template"},r.a.createElement(p,null),a)},d=t(16);var v=function(e){var a=Object(i.c)((function(e){return e.auth})),t=e.as,n=e.veri,o=e.admin,c=Object(d.a)(e,["as","veri","admin"]);return n?o?a.loggedIn&&a.verified&&a.verifiedcompany&&a.founder?r.a.createElement(t,c):r.a.createElement(l.b,{to:"/",noThrow:!0}):a.loggedIn&&a.verified&&a.verifiedcompany?r.a.createElement(t,c):r.a.createElement(l.b,{to:"/",noThrow:!0}):a.loggedIn?r.a.createElement(t,c):r.a.createElement(l.b,{to:"/",noThrow:!0})};var E=function(e){var a=Object(i.c)((function(e){return e.auth.loggedIn})),t=e.as,n=Object(d.a)(e,["as"]);return a?r.a.createElement(l.b,{to:"/",noThrow:!0}):r.a.createElement(t,n)},g=t(1),b=t.n(g),h=t(6),N=t(17);var y=function(e){return{type:"LOGIN",payload:{email:e.email,name:e.name,founder:e.founder,_id:e._id,companyname:e.company.name,companytax:e.company.taxcode,avatar:e.avatar,verified:e.verified,verifiedcompany:e.verifiedcompany}}};t(33);var O=function(){var e=Object(n.useState)(!1),a=Object(m.a)(e,2),t=a[0],o=a[1],c=Object(i.b)(),s=Object(n.useState)({email:"",password:"",company:""}),p=Object(m.a)(s,2),f=p[0],d=p[1],v=Object(N.a)(),E=v.handleSubmit,g=v.register,O=function(){var e=Object(h.a)(b.a.mark((function e(a,t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,u.a.post("/api/login",{email:a.email,password:a.password});case 4:n=e.sent,t.target.reset(),Object(l.d)("/"),c(y(n.data.user)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.data.errors),d(e.t0.response.data.errors);case 14:o(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"auth-form",onSubmit:E(O)},r.a.createElement("h2",null,"Log In"),r.a.createElement("div",{className:"auth-form-group"},r.a.createElement("label",{className:"form-control",htmlFor:"email"},"Email"),r.a.createElement("input",{className:"form-control",type:"text",name:"email",autoComplete:"off",ref:g}),r.a.createElement("p",{className:"form-error"},f.email)),r.a.createElement("div",{className:"auth-form-group"},r.a.createElement("label",{className:"form-control",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password",ref:g}),r.a.createElement("p",{className:"form-error"},f.password)),r.a.createElement("button",{className:"form-submit-button",type:"submit"},"Let Me In"),r.a.createElement(l.a,{to:"/signup"},r.a.createElement("p",{className:"form-switch"},"I don't have an account")),t&&r.a.createElement("div",{className:"form-authen"},r.a.createElement("img",{src:"/logo.png",alt:"form-loading"})))};var j=function(){var e=Object(n.useState)(!1),a=Object(m.a)(e,2),t=a[0],o=a[1],c=Object(i.b)(),s=Object(n.useState)("staff"),p=Object(m.a)(s,2),f=p[0],d=p[1],v=Object(n.useState)({}),E=Object(m.a)(v,2),g=E[0],O=E[1],j=Object(N.a)(),w=j.handleSubmit,x=j.register,S=function(){var e=Object(h.a)(b.a.mark((function e(a,t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,u.a.post("/api/signup",{email:a.email,password:a.password,name:a.name,founder:"founder"===f,companyname:a.companyname,companytax:a.companytax});case 4:n=e.sent,d("staff"),t.target.reset(),Object(l.d)("/"),c(y(n.data.user)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),O(e.t0.response.data.errors);case 14:o(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a,t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"auth-form signup-form",onSubmit:w(S)},r.a.createElement("h2",null,"Sign Up"),r.a.createElement("div",{className:"form-content"},r.a.createElement("div",{className:"form-left"},r.a.createElement("div",{className:"auth-form-group"},r.a.createElement("label",{className:"form-control",htmlFor:"email"},"Email"),r.a.createElement("input",{className:"form-control",type:"email",name:"email",autoComplete:"off",ref:x}),r.a.createElement("p",{className:"form-error"},g.email)),r.a.createElement("div",{className:"auth-form-group"},r.a.createElement("label",{className:"form-control",htmlFor:"name"},"Name"),r.a.createElement("input",{className:"form-control",type:"text",name:"name",autoComplete:"off",ref:x}),r.a.createElement("p",{className:"form-error"})),r.a.createElement("div",{className:"auth-form-group"},r.a.createElement("label",{className:"form-control",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"form-control",type:"password",name:"password",ref:x}),r.a.createElement("p",{className:"form-error"},g.password))),r.a.createElement("div",{className:"form-right"},r.a.createElement("div",{className:"auth-form-group"},r.a.createElement("label",{className:"form-control",htmlFor:"role"},"Role"),r.a.createElement("div",{className:"radio-group"},r.a.createElement("button",{type:"button",className:"staff"===f?"form-radio radio-active":"form-radio",onClick:function(){return d("staff")}},"Staff"),r.a.createElement("button",{type:"button",className:"founder"===f?"form-radio radio-active":"form-radio",onClick:function(){return d("founder")}},"Founder")),r.a.createElement("p",{className:"form-error"})),"founder"===f?r.a.createElement("div",{className:"auth-form-group"},r.a.createElement("label",{className:"form-control",htmlFor:"companyname"},"Company Name"),r.a.createElement("input",{className:"form-control",type:"text",name:"companyname",ref:x}),r.a.createElement("p",{className:"form-error"})):"",r.a.createElement("div",{className:"auth-form-group"},r.a.createElement("label",{className:"form-control",htmlFor:"companytax"},"Company Tax"),r.a.createElement("input",{className:"form-control",type:"text",name:"companytax",ref:x}),r.a.createElement("p",{className:"form-error"},g.company)))),r.a.createElement("button",{className:"form-submit-button",type:"submit"},"Sign Me Up"),r.a.createElement(l.a,{to:"/login"},r.a.createElement("p",{className:"form-switch"},"I already have an account")),t&&r.a.createElement("div",{className:"form-authen"},r.a.createElement("img",{src:"/logo.png",alt:"form-loading"})))};t(70);var w=function(){var e=Object(i.b)(),a=Object(i.c)((function(e){return e.auth.loggedIn})),t=Object(i.c)((function(e){return e.auth.founder}));return r.a.createElement("div",{className:"home"},r.a.createElement("h1",null,"Hello! Nice to meet you!"),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Application List"),r.a.createElement("nav",{className:"home-nav-container"},r.a.createElement(l.a,{to:"/signoff"},r.a.createElement("button",{className:"home-nav-button"},"Sign-Off")),t&&r.a.createElement(l.a,{to:"/administration"},r.a.createElement("button",{className:"home-nav-button"},"Administration")),r.a.createElement(l.a,{to:"/"},r.a.createElement("button",{className:"home-nav-button",onClick:function(){u.a.get("/api/logout"),e({type:"LOGOUT"}),Object(l.d)("/")}},"Log Out")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Log In or Sign Up to continue"),r.a.createElement("nav",{className:"home-nav-container"},r.a.createElement(l.a,{to:"/login"},r.a.createElement("button",{className:"home-nav-button"},"Log In")),r.a.createElement(l.a,{to:"/signup"},r.a.createElement("button",{className:"home-nav-button"},"Sign Up")))))};t(71);var x=function(){return r.a.createElement("div",{className:"signoff-container"},r.a.createElement("h1",{style:{color:"white",textAlign:"center",marginTop:"2rem"}},"Sign-Off Page"),r.a.createElement("h2",{style:{color:"white",textAlign:"center"}},"This page is under constructing"))};t(72);var S=function(){return r.a.createElement("div",{className:"admin-container"},r.a.createElement("h1",{style:{color:"white",textAlign:"center",marginTop:"2rem"}},"Administration Page"),r.a.createElement("h2",{style:{color:"white",textAlign:"center"}},"This page is under constructing"))};t(73);var I=function(){var e=Object(i.b)(),a=Object(i.c)((function(e){return e.auth})),t=Object(n.useState)(!1),o=Object(m.a)(t,2),c=o[0],l=o[1],s=function(){var t=Object(h.a)(b.a.mark((function t(n){var r,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).enctype="multipart/form-data",r.append("id",a._id),r.append("avatar",n.target.files[0]),n.target.value="",t.next=7,u.a.post("/profile",r);case 7:o=t.sent,e({type:"SET_AVATAR",payload:{avatar:o.data.avatar}});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"profile-container"},r.a.createElement("div",{className:"profile-avatar",onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)}},r.a.createElement("img",{src:a.avatar,alt:"avatar"}),r.a.createElement("label",{className:c?"profile-change":"profile-change profile-change-hidden"},r.a.createElement("input",{className:"profile-avatar-change",type:"file",name:"avatar",required:!0,onChange:s}),"Change Avatar")),r.a.createElement("p",{className:"profile-username"},a.name),r.a.createElement("p",{className:a.verified?"profile-verification verified":"profile-verification"},a.verified?"Account is verified":"Account is not verified"),r.a.createElement("p",{className:a.verifiedcompany?"profile-verification verified":"profile-verification"},a.verifiedcompany?"Company is verified":"Company is not verified"))},k=t(5),A=(t(74),t(79));var L=function(){var e=Object(i.c)((function(e){return e.auth.email})),a=Object(n.useState)(!0),t=Object(m.a)(a,2),o=t[0],c=t[1],l=Object(n.useState)([]),s=Object(m.a)(l,2),p=s[0],f=s[1],d=Object(n.useState)(""),v=Object(m.a)(d,2),E=v[0],g=v[1],N=Object(n.useState)(""),y=Object(m.a)(N,2),O=y[0],j=y[1],w=function(){var e=Object(h.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(p.filter((function(e){return e._id!==a}))),u.a.delete("/dev/log",{id:a});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),x=function(){var a=Object(h.a)(b.a.mark((function a(t){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),n=Object(A.a)(),f([{_id:n,name:e,log:E}].concat(Object(k.a)(p))),g(""),a.next=6,u.a.post("/dev/log",{id:n,name:e,log:E});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var a=Object(h.a)(b.a.mark((function a(){var t;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.put("/dev/log",{name:e});case 2:t=a.sent,f(t.data.logs.reverse()),c(!1);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[e]),r.a.createElement("div",{className:"dev-container"},r.a.createElement("h1",null,"Dev Log"),r.a.createElement("form",{onSubmit:x},r.a.createElement("label",{htmlFor:"log"},"Question, Log and Everything in Between"),r.a.createElement("input",{type:"text",name:"log",value:E,onChange:function(e){return g(e.target.value)}})),o?r.a.createElement("div",{className:"log-container"},r.a.createElement("div",{className:"log-loader"},r.a.createElement("img",{src:"/logo.png",alt:"loader"}),r.a.createElement("h2",null,"Getting Data..."),r.a.createElement("img",{src:"/logo.png",alt:"loader"}))):r.a.createElement("div",{className:"log-container"},p.map((function(e){return r.a.createElement("div",{className:"log-item",key:e._id,onMouseOver:function(){return a=e._id,void j(a);var a},onMouseLeave:function(){return e._id,void j("")}},r.a.createElement("p",null,e.log),r.a.createElement("button",{className:O===e._id?"log-delete log-visible":"log-delete",onClick:function(){return w(e._id)}},"Delete"))}))))};var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f,null,r.a.createElement(l.c,null,r.a.createElement(w,{path:"/"}),r.a.createElement(E,{as:O,path:"/login"}),r.a.createElement(E,{as:j,path:"/signup"}),r.a.createElement(v,{as:x,veri:!0,admin:!1,path:"/signoff"}),r.a.createElement(v,{as:S,veri:!0,admin:!0,path:"/administration"}),r.a.createElement(v,{as:I,veri:!1,admin:!1,path:"/profile"}),r.a.createElement(v,{as:L,veri:!0,admin:!1,path:"/dev"}))))},T=t(36),_=t(10),F=t(22),D=t(37),U=t.n(D),G=t(11),M={loggedIn:!1,email:"",name:"",founder:!1,companyname:"",companytaxcode:"",verified:!1,avatar:"/logo.png",verifiedcompany:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return Object(G.a)(Object(G.a)({},e),{},{loggedIn:!0,_id:a.payload._id,email:a.payload.email,avatar:a.payload.avatar+"?"+Date.now(),name:a.payload.name,founder:a.payload.founder,companyname:a.payload.companyname,companytaxcode:a.payload.companytaxcode,verified:a.payload.verified,verifiedcompany:a.payload.verifiedcompany});case"LOGOUT":return Object(G.a)(Object(G.a)({},e),{},{loggedIn:!1,_id:"",email:"",avatar:"",name:"",founder:!1,companyname:"",companytaxcode:"",verified:!1,verifiedcompany:!1});case"SET_AVATAR":return Object(G.a)(Object(G.a)({},e),{},{avatar:a.payload.avatar+"?"+Date.now()});default:return e}},R=Object(_.b)({auth:P}),V={key:"root",storage:U.a},B=Object(F.a)(V,R),H=Object(_.c)(B),J=Object(F.b)(H);c.a.render(r.a.createElement(i.a,{store:H},r.a.createElement(T.a,{loading:null,persistor:J},r.a.createElement(C,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.f8549bcd.chunk.js.map